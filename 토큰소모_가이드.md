# 💰 Claude Code 기능별 토큰 소모 가이드

**작성일**: 2026-02-01
**목적**: Skills, Plugins, Hooks 사용 시 토큰 비용 이해하기

---

## 📊 토큰 소모 개요

### 기본 원칙

**토큰이 소모되는 경우:**
- ✅ Claude AI가 코드를 읽고 분석할 때
- ✅ Claude AI가 응답을 생성할 때
- ✅ 파일을 읽어서 컨텍스트에 포함할 때

**토큰이 소모되지 않는 경우:**
- ❌ 로컬 명령어만 실행할 때 (예: `npm test`)
- ❌ Git 명령어 실행 (예: `git commit`)
- ❌ 파일 시스템 작업 (파일 읽기/쓰기는 제외)

---

## 1. Skills 토큰 소모

### 1-1. `/code-review` (코드 리뷰)

**토큰 소모: 높음** 🔴

**이유:**
```
1. 전체 코드베이스 읽기 (입력 토큰)
   예: bot.js (533줄) ≈ 4,000 토큰

2. 코드 분석 및 리뷰 생성 (출력 토큰)
   예: 리뷰 보고서 ≈ 2,000 토큰

총 예상: ~6,000 토큰 (약 $0.02)
```

**실제 사용 예시:**
```bash
/code-review

# Claude가 수행하는 작업:
# 1. 프로젝트 파일 스캔 (Glob, Grep)
# 2. 관련 파일 읽기 (Read tool)
# 3. 코드 분석 (AI 처리)
# 4. 리뷰 보고서 생성 (AI 응답)
```

**토큰 절약 팁:**
- 특정 파일만 리뷰: "bot.js 파일만 리뷰해줘"
- 특정 부분만 리뷰: "handleMessage 함수만 리뷰해줘"

---

### 1-2. `/doc-coauthoring` (문서 공동 작성)

**토큰 소모: 중간** 🟡

**이유:**
```
1. 기존 문서 읽기 (있는 경우)
   예: README.md ≈ 1,000 토큰

2. 대화형 질문/답변 (여러 턴)
   예: 3-5번 대화 ≈ 3,000 토큰

3. 최종 문서 생성
   예: 새 문서 ≈ 2,000 토큰

총 예상: ~6,000 토큰 (약 $0.02)
```

**특징:**
- 대화형이므로 여러 턴에 걸쳐 소모
- 사용자가 제공하는 정보량에 따라 변동

**토큰 절약 팁:**
- 명확한 요구사항 미리 정리
- 짧은 문서부터 시작
- 템플릿 활용

---

### 1-3. `/feature-dev` (기능 개발)

**토큰 소모: 매우 높음** 🔴🔴

**이유:**
```
1. 코드베이스 탐색 및 이해
   예: 전체 프로젝트 구조 파악 ≈ 10,000 토큰

2. 아키텍처 설계 및 계획
   예: 설계 문서 생성 ≈ 3,000 토큰

3. 단계별 구현 가이드
   예: 코드 예제 + 설명 ≈ 5,000 토큰

4. 실제 코드 작성 (선택사항)
   예: 새 기능 코드 ≈ 4,000 토큰

총 예상: ~22,000 토큰 (약 $0.07)
```

**토큰 절약 팁:**
- 작은 기능 단위로 분할
- 기존 패턴 재사용 명시
- "간단한 예제만" 요청

---

### 1-4. Skills 종합

| Skill | 토큰 소모 | 예상 비용* | 추천 사용 빈도 |
|-------|----------|-----------|--------------|
| `/code-review` | 높음 (6K) | $0.02 | 주 1-2회 |
| `/doc-coauthoring` | 중간 (6K) | $0.02 | 필요 시 |
| `/feature-dev` | 매우 높음 (22K) | $0.07 | 월 1-2회 |
| `/help` | 낮음 (0.5K) | $0.001 | 자유롭게 |

*Claude Sonnet 4.5 기준 ($3/M input tokens, $15/M output tokens)

---

## 2. Plugins 토큰 소모

### 2-1. Notion MCP Plugin

**토큰 소모: 낮음** 🟢

**이유:**
```
API 호출 자체는 무료 (Notion API 사용)
Claude는 요청/응답 처리만 수행

1. 사용자 요청 이해
   예: "Notion에서 최근 10개 항목 가져와줘" ≈ 50 토큰

2. API 호출 (토큰 소모 없음)
   Notion API → JSON 응답

3. 결과 정리 및 표시
   예: 테이블 형식으로 정리 ≈ 500 토큰

총 예상: ~550 토큰 (약 $0.002)
```

**실제 동작:**
```bash
"Notion DB에서 AI/ML 카테고리 페이지 검색해줘"

# 토큰 소모 구간:
# ✅ 요청 이해: 50 토큰
# ❌ mcp__notion-api__API-post-search 실행: 0 토큰 (API 호출)
# ✅ 결과 파싱 및 표시: 500 토큰
#
# 총: ~550 토큰
```

**특징:**
- Plugin 자체는 외부 API 호출 (무료)
- Claude는 입출력 처리만 담당
- 대량 데이터 조회 시에도 토큰 효율적

---

### 2-2. Context7 Plugin (라이브러리 문서)

**토큰 소모: 낮음-중간** 🟡

**이유:**
```
1. 문서 검색 (외부 API, 무료)

2. 검색 결과를 컨텍스트에 포함
   예: 공식 문서 일부 ≈ 2,000 토큰

3. 사용자 질문에 맞게 설명 생성
   예: 코드 예제 + 설명 ≈ 1,000 토큰

총 예상: ~3,000 토큰 (약 $0.01)
```

**토큰 절약 팁:**
- 구체적인 질문: "node-telegram-bot-api의 polling 옵션만 설명해줘"
- 짧은 예제 요청: "간단한 예제 1개만"

---

### 2-3. Plugins 종합

| Plugin | 토큰 소모 | 예상 비용* | 특징 |
|--------|----------|-----------|------|
| Notion MCP | 낮음 (0.5K) | $0.002 | API 호출이 주, AI 처리 최소 |
| Context7 | 낮음-중간 (3K) | $0.01 | 문서 양에 따라 변동 |

**핵심:** Plugin은 대부분 외부 API 사용 → 토큰 효율적! ✅

---

## 3. Hooks 토큰 소모

### 3-1. Git Hooks (pre-commit 등)

**토큰 소모: 없음!** 🟢🟢🟢

**이유:**
```bash
# ~/.claude/hooks.json
{
  "pre-commit": {
    "command": "npm test",
    "description": "테스트 자동 실행"
  }
}

# 동작:
# 1. /commit 명령 실행
# 2. Hook이 "npm test" 로컬 실행 (토큰 소모 없음!)
# 3. 테스트 결과만 Claude에게 전달 (최소 토큰)
# 4. 커밋 메시지 생성 (소량 토큰)
```

**토큰 소모 분석:**
```
❌ Hook 실행 자체: 0 토큰 (로컬 명령어)
✅ 테스트 결과 읽기: ~100 토큰
✅ 커밋 메시지 생성: ~200 토큰

총: ~300 토큰 (약 $0.001)
```

**핵심:** Hook은 로컬 스크립트 → 거의 무료! 🎉

---

### 3-2. 다양한 Hooks 예시

| Hook | 명령어 | 토큰 소모 | 이유 |
|------|--------|----------|------|
| `pre-commit` | `npm test` | 없음 | 로컬 실행 |
| `post-edit` | `node bot.js` | 없음 | 로컬 실행 |
| `pre-deploy` | `npm audit` | 없음 | 로컬 실행 |
| `hourly` | `node check.js` | 없음 | 로컬 실행 |

**결론:** Hooks는 토큰 소모가 거의 없음! 마음껏 사용하세요. ✅

---

## 4. 비교 및 전략

### 4-1. 기능별 토큰 효율성

```
효율성 순위 (낮은 것이 좋음):

1. 🥇 Hooks (거의 무료)
   예: pre-commit hook → ~300 토큰

2. 🥈 Plugins (API 기반)
   예: Notion 조회 → ~550 토큰

3. 🥉 간단한 Skills
   예: /help → ~500 토큰

4. 🔴 복잡한 Skills
   예: /code-review → ~6,000 토큰
   예: /feature-dev → ~22,000 토큰
```

---

### 4-2. 실전 토큰 절약 전략

#### 전략 1: Hooks 우선 활용
```bash
# ❌ 비효율적 (매번 AI에게 요청)
"테스트 실행해줘"  → 토큰 소모
"린트 체크해줘"    → 토큰 소모
"커밋 만들어줘"    → 토큰 소모

# ✅ 효율적 (Hook 설정 후)
/commit  → Hook이 자동으로 test + lint 실행 (토큰 거의 없음)
```

**효과:** 80% 토큰 절약 🎉

---

#### 전략 2: 구체적인 요청

```bash
# ❌ 비효율적
"코드 리뷰해줘"
→ 전체 프로젝트 스캔 (~10,000 토큰)

# ✅ 효율적
"bot.js의 handleMessage 함수만 리뷰해줘"
→ 특정 함수만 분석 (~1,500 토큰)
```

**효과:** 85% 토큰 절약 🎉

---

#### 전략 3: Plugin 활용

```bash
# ❌ 비효율적
"Notion 페이지 내용을 복사해서 분석해줘"
→ 수동 복사 + AI 분석 (~5,000 토큰)

# ✅ 효율적
"Notion API로 페이지 가져와서 분석해줘"
→ Plugin 사용 (~550 토큰)
```

**효과:** 90% 토큰 절약 🎉

---

#### 전략 4: 점진적 작업

```bash
# ❌ 비효율적
"새 기능 전체 설계하고 구현해줘"
→ 한 번에 처리 (~22,000 토큰)

# ✅ 효율적
1. "기능 개요만 설계해줘" (~3,000 토큰)
2. (검토 후) "첫 번째 단계만 구현해줘" (~2,000 토큰)
3. (검토 후) "두 번째 단계 구현해줘" (~2,000 토큰)

총: ~7,000 토큰 (68% 절약!)
```

---

### 4-3. 월간 토큰 예상 시나리오

#### 시나리오 A: 비효율적 사용
```
- 매일 전체 코드 리뷰: 30회 × 6,000 = 180,000 토큰
- 매주 feature-dev: 4회 × 22,000 = 88,000 토큰
- 기타 질문: ~50,000 토큰

총: ~318,000 토큰 (약 $1.2/월)
```

#### 시나리오 B: 효율적 사용
```
- 주간 코드 리뷰 (특정 파일): 4회 × 1,500 = 6,000 토큰
- 월간 feature-dev (분할): 1회 × 7,000 = 7,000 토큰
- Hooks 활용 (테스트/린트): 60회 × 300 = 18,000 토큰
- Plugin 활용: 20회 × 550 = 11,000 토큰
- 기타 질문: ~20,000 토큰

총: ~62,000 토큰 (약 $0.25/월)
```

**절약률:** 80%! 💰

---

## 5. 실전 가이드

### 5-1. 무료로 최대한 활용하기

**완전 무료 (토큰 소모 없음):**
```bash
# 1. Git 작업
git status
git diff
git log

# 2. 로컬 테스트
npm test
npm run lint
npm audit

# 3. 파일 작업
ls -la
find . -name "*.js"
grep "function" bot.js

# 4. Hooks (설정 후)
/commit  → Hook이 자동 실행
```

---

### 5-2. 저렴하게 활용하기 (Plugin)

**소량 토큰 소모:**
```bash
# Notion 데이터 조회
"Notion DB에서 오늘 저장된 항목 보여줘"
→ ~550 토큰 ($0.002)

# 라이브러리 문서 검색
"Express.js 라우팅 예제 보여줘"
→ ~3,000 토큰 ($0.01)
```

---

### 5-3. 꼭 필요할 때만 고급 기능

**고비용 작업 (신중하게):**
```bash
# 월 1-2회만 사용
/code-review  → ~6,000 토큰 ($0.02)
/feature-dev  → ~22,000 토큰 ($0.07)

# 대안: 특정 부분만
"handleMessage 함수만 리뷰해줘"  → ~1,500 토큰 ($0.005)
```

---

## 6. FAQ

### Q1: Hooks는 정말 토큰 소모가 없나요?
**A:** 네! Hook은 로컬 명령어를 실행할 뿐입니다.
```bash
# Hook 실행
npm test  → 로컬 실행 (무료)

# 단, 결과를 Claude에게 물어보면 토큰 소모
"테스트 결과 분석해줘"  → AI 분석 (토큰 소모)
```

### Q2: Plugin 사용 시 API 비용은?
**A:** Notion API는 무료입니다 (일일 제한 있음).
- Notion API: 무료 (Rate limit: 3 req/sec)
- Claude 토큰: 최소 소모 (결과 처리만)

### Q3: 어떤 기능을 가장 많이 써야 하나요?
**A:** Hooks! 토큰 효율이 가장 좋습니다.
```bash
# 추천 사용 빈도
1. Hooks: 매일 (무료)
2. Plugins: 필요 시 (저렴)
3. 간단한 질문: 자유롭게 (저렴)
4. Skills: 주/월 단위 (비교적 비쌈)
```

### Q4: 토큰 사용량을 확인할 수 있나요?
**A:** Claude Code 인터페이스 상단에서 확인 가능합니다.
```
Token usage: 43,381/200,000
```

### Q5: 200,000 토큰은 어느 정도인가요?
**A:** 매우 넉넉합니다!
```
200,000 토큰 = 약:
- /code-review 33회
- /feature-dev 9회
- Notion 조회 360회
- Hook 실행 660회
```

---

## 7. 토큰 소모 체크리스트

### ✅ 작업 전 확인

**질문:** 이 작업은 꼭 AI가 해야 하나?

- [ ] Hooks로 자동화 가능? → Hook 사용
- [ ] Plugin으로 조회 가능? → Plugin 사용
- [ ] 로컬 명령어로 가능? → Bash 사용
- [ ] AI 분석 필요? → 구체적으로 요청

### ✅ 요청 시 최적화

```bash
# ❌ 피하기
"전체 프로젝트 분석해줘"
"모든 파일 리뷰해줘"
"완전한 기능 만들어줘"

# ✅ 추천
"bot.js의 line 221-285 함수만 리뷰해줘"
"Notion에서 최근 10개만 가져와줘"
"간단한 예제 1개만 보여줘"
```

---

## 8. 요약

### 토큰 소모 순위

```
무료 ⭐⭐⭐⭐⭐
└─ Hooks (로컬 실행)

저렴 ⭐⭐⭐⭐
└─ Plugins (API 기반)
└─ 간단한 질문

중간 ⭐⭐⭐
└─ 특정 파일 리뷰
└─ 짧은 문서 작성

비쌈 ⭐⭐
└─ 전체 코드 리뷰
└─ 복잡한 분석

매우 비쌈 ⭐
└─ /feature-dev
└─ 대규모 리팩토링
```

### 핵심 원칙

1. **Hooks 우선** - 자동화는 무료!
2. **Plugin 활용** - API는 효율적!
3. **구체적 요청** - 범위를 좁히기!
4. **점진적 작업** - 나눠서 하기!

---

**마지막 업데이트:** 2026-02-01
**다음 읽기:** `시나리오예제.md` - 실전 활용법
