# 📚 Claude Code 활용 시나리오 예제

**프로젝트**: 텔레그램-노션 자동 저장 봇
**작성일**: 2026-02-01
**대상**: 개발 초보자

---

## 🎯 목차

1. [Skills (스킬) 활용](#1-skills-스킬-활용)
2. [Plugins (플러그인) 활용](#2-plugins-플러그인-활용)
3. [Hooks (훅) 활용](#3-hooks-훅-활용)
4. [실전 워크플로우](#4-실전-워크플로우)
5. [초보자 가이드](#5-초보자-가이드)

---

## 1. Skills (스킬) 활용

Skills는 Claude Code에 내장된 전문 기능들입니다. 슬래시 명령어(`/`)로 실행합니다.

### 1-1. 코드 리뷰 자동화

**사용법:**
```bash
/code-review
```

**활용 시나리오:**
- `bot.js` 수정 후 보안 취약점, 버그, 코드 품질 자동 검사
- Pull Request 생성 전 코드 리뷰 받기
- 성능 최적화 제안 받기

**실제 사용 예시:**
```
1. bot.js 파일을 수정
2. Claude Code에서 "/code-review" 입력
3. 자동으로 코드 분석 후 개선 제안
4. 보안 문제, 버그, 코드 스타일 이슈 확인
```

**장점:**
- ✅ 실시간 코드 품질 체크
- ✅ 보안 취약점 조기 발견
- ✅ 베스트 프랙티스 학습 가능

---

### 1-2. 문서 작성 자동화

**사용법:**
```bash
/doc-coauthoring
```

**활용 시나리오:**
- API 문서, 배포 가이드 작성 시 구조화된 워크플로우
- 현재 프로젝트의 `HANDOFF.md`, `README.md` 같은 문서 개선
- 사용자 매뉴얼 작성

**실제 사용 예시:**
```
1. "새로운 기능 추가 가이드 문서 작성해줘" 요청
2. Claude가 구조화된 질문 시작
3. 단계별로 답변하면 자동으로 문서 생성
4. 피드백 반영하여 문서 개선
```

**이 프로젝트에서 활용:**
- `DEPLOYMENT_GUIDE.md` - 배포 가이드 작성
- `TROUBLESHOOTING.md` - 문제 해결 가이드
- `API_DOCUMENTATION.md` - API 사용법 문서

---

### 1-3. 스프레드시트로 로그 분석

**사용법:**
```bash
# xlsx skill 사용
"봇 로그를 분석해서 스프레드시트로 만들어줘"
```

**활용 시나리오:**
- 봇 메시지 처리 통계를 스프레드시트로 정리
- 카테고리별 메시지 개수, 에러 빈도 분석
- 성능 모니터링 데이터 시각화

**실제 사용 예시:**
```
1. Notion 데이터베이스에서 데이터 추출
2. "이 데이터를 xlsx로 정리해줘" 요청
3. 자동으로 스프레드시트 생성
4. 차트, 통계 추가
```

**분석 가능한 데이터:**
- 📊 일별/주별 메시지 개수
- 📊 카테고리별 분포
- 📊 처리 시간 통계
- 📊 에러 발생 빈도

---

### 1-4. 기능 개발 가이드

**사용법:**
```bash
/feature-dev
```

**활용 시나리오:**
- 새로운 기능 추가 시 설계 및 구현 가이드
- 기존 코드 패턴 분석 후 일관성 있는 코드 작성
- 단계별 구현 계획 수립

**실제 사용 예시:**
```
사용자: "텔레그램 봇에 이미지 저장 기능 추가하고 싶어"

Claude (feature-dev 실행):
1. 기존 코드베이스 분석
2. 이미지 처리 아키텍처 설계
3. 필요한 라이브러리 제안
4. 단계별 구현 계획 제시
5. 테스트 코드 작성 가이드
```

---

## 2. Plugins (플러그인) 활용

플러그인은 외부 서비스와 연동하는 도구입니다. 이 프로젝트는 **Notion MCP 서버**가 이미 설정되어 있습니다!

### 2-1. Notion API 직접 조작

**현재 설정 확인:**
```bash
# .claude/settings.local.json 파일에 이미 설정됨
# Notion API 토큰과 MCP 서버 연결 완료
```

**사용 가능한 기능:**

#### 📝 Notion 페이지 검색
```
"Notion 데이터베이스에서 'AI/ML' 카테고리 페이지 검색해줘"
```
**내부 동작:**
- `mcp__notion-api__API-post-search` 자동 실행
- 검색 결과 정리 및 표시

#### 📄 특정 페이지 조회
```
"Notion 페이지 ID로 내용 가져와줘"
```
**내부 동작:**
- `mcp__notion-api__API-retrieve-a-page` 실행
- 페이지 제목, 본문, 메타데이터 표시

#### 🗂️ 블록(콘텐츠) 가져오기
```
"이 Notion 페이지의 모든 블록 보여줘"
```
**내부 동작:**
- `mcp__notion-api__API-get-block-children` 실행
- 텍스트, 이미지, 리스트 등 모든 블록 구조 표시

---

### 2-2. 실전 시나리오: Notion 데이터 정리

**시나리오: 중복 페이지 찾기**

```bash
# Step 1: 전체 페이지 검색
"Notion 데이터베이스에서 모든 페이지 가져와줘"

# Step 2: Claude가 중복 분석
"같은 제목을 가진 페이지 찾아줘"

# Step 3: 결과 정리
# Claude가 자동으로 중복 목록 생성
# - 페이지 ID
# - 제목
# - 생성일
# - URL
```

**시나리오: 카테고리별 통계**

```bash
# 자동으로 실행됨:
# 1. mcp__notion-api__API-post-search
# 2. 데이터 분석
# 3. 스프레드시트 생성

"Notion DB에서 카테고리별 메시지 개수 통계 만들어줘"
```

**결과 예시:**
```
카테고리별 통계:
- AI/ML: 45건
- 개발: 102건
- 디자인: 23건
- 비즈니스: 67건
- 생산성: 89건
```

---

### 2-3. Context7 플러그인 (라이브러리 문서 검색)

현재 활성화되어 있는 플러그인입니다.

**사용법:**
```
"node-telegram-bot-api 최신 문서 보여줘"
"@notionhq/client 사용법 알려줘"
"Express.js 4.x 라우팅 예제 찾아줘"
```

**장점:**
- ✅ 최신 공식 문서 자동 검색
- ✅ 버전별 차이점 확인
- ✅ 실제 코드 예제 제공

---

## 3. Hooks (훅) 활용

Hooks는 특정 이벤트 발생 시 자동으로 스크립트를 실행하는 기능입니다.

### 3-1. Git Commit 전 자동 테스트

**설정 파일:** `~/.claude/hooks.json`

```json
{
  "pre-commit": {
    "command": "npm test",
    "description": "커밋 전 자동 테스트 실행"
  }
}
```

**동작 방식:**
```
1. Claude에게 "/commit" 요청
2. Hook이 자동으로 "npm test" 실행
3. 테스트 성공 → 커밋 진행
4. 테스트 실패 → 커밋 중단, 에러 표시
```

**효과:**
- ✅ 버그가 있는 코드 커밋 방지
- ✅ 코드 품질 자동 보장
- ✅ CI/CD 파이프라인 로컬 검증

---

### 3-2. 코드 변경 후 자동 재시작

**설정:**
```json
{
  "post-edit": {
    "command": "taskkill /F /IM node.exe && timeout /t 2 && node bot.js",
    "description": "봇 코드 수정 후 자동 재시작"
  }
}
```

**동작 방식:**
```
1. bot.js 파일 수정
2. 저장 시 Hook 자동 실행
3. 기존 node.exe 프로세스 종료
4. 2초 대기
5. 새로운 봇 프로세스 시작
```

**효과:**
- ✅ 수동 재시작 불필요
- ✅ 개발 속도 향상
- ✅ 실수 방지 (재시작 깜빡임)

---

### 3-3. 배포 전 보안 검사

**설정:**
```json
{
  "pre-deploy": {
    "command": "npm audit && echo 'Security check completed'",
    "description": "배포 전 보안 취약점 검사"
  }
}
```

**동작 방식:**
```
1. 배포 명령 실행 전
2. npm audit으로 의존성 보안 검사
3. 취약점 발견 시 경고
4. 심각한 취약점 시 배포 중단
```

**보안 체크 항목:**
- 🔒 의존성 라이브러리 취약점
- 🔒 API 키 노출 여부
- 🔒 환경 변수 검증

---

### 3-4. 시간별 자동 모니터링

**설정:**
```json
{
  "hourly": {
    "command": "node check-uptime.js >> logs/uptime.log",
    "description": "매 시간 봇 상태 로깅",
    "schedule": "0 * * * *"
  }
}
```

**기능:**
- 📊 매 시간 봇 상태 확인
- 📊 로그 파일에 자동 기록
- 📊 다운타임 알림

---

## 4. 실전 워크플로우

### 워크플로우 1: 버그 수정

```bash
# Step 1: 이슈 탐색
"메시지 중복 처리 관련 코드 찾아줘"
# Claude가 관련 파일 자동 검색

# Step 2: 코드 수정
"bot.js의 메시지 핸들러 수정해줘"
# Edit 도구로 자동 수정

# Step 3: 자동 테스트 (Hook 실행)
# pre-commit hook이 npm test 자동 실행

# Step 4: 리뷰 요청
/code-review
# 보안, 버그, 품질 검사

# Step 5: 커밋
/commit
# Git 커밋 자동 생성
```

**소요 시간:** 수동 대비 50% 단축

---

### 워크플로우 2: 새 기능 추가

```bash
# Step 1: 기능 설계
/feature-dev
"텔레그램 봇에 이미지 저장 기능 추가"

# Step 2: Claude가 제공하는 것
# - 아키텍처 설계
# - 필요한 라이브러리 목록
# - 단계별 구현 계획
# - 예상 코드 구조

# Step 3: 구현
# Claude가 단계별로 코드 작성

# Step 4: 테스트
# Hook이 자동으로 테스트 실행

# Step 5: 문서화
/doc-coauthoring
"이미지 저장 기능 사용 가이드 작성"

# Step 6: 배포
# pre-deploy hook으로 보안 검사 후 배포
```

---

### 워크플로우 3: Notion 데이터 분석

```bash
# Step 1: 데이터 수집 (Notion Plugin 자동 사용)
"Notion DB에서 지난 달 데이터 전부 가져와줘"

# Step 2: 분석
"카테고리별, 일별 통계 분석해줘"

# Step 3: 시각화 (xlsx skill 사용)
"분석 결과를 Excel 파일로 만들어줘"
# - 차트 자동 생성
# - 피벗 테이블
# - 조건부 서식

# Step 4: 보고서 작성 (doc-coauthoring)
/doc-coauthoring
"월간 봇 활동 보고서 작성"
```

**결과물:**
- 📊 Excel 파일 (통계, 차트)
- 📄 월간 보고서 (Markdown)
- 📈 인사이트 및 개선 제안

---

### 워크플로우 4: 보안 점검

```bash
# Step 1: 자동 보안 스캔
# pre-deploy hook 실행
npm audit

# Step 2: 코드 리뷰
/code-review
# 보안 취약점 집중 검토

# Step 3: API 키 노출 확인
"Git 히스토리에서 API 키 노출 여부 확인해줘"

# Step 4: 의존성 업데이트
"보안 취약점 있는 패키지 업데이트해줘"

# Step 5: 문서화
"보안 점검 체크리스트 작성해줘"
```

---

## 5. 초보자 가이드

### 단계 1: Skills 사용해보기 (5분)

**가장 간단한 skill부터 시작:**

```bash
# 1. 도움말 확인
/help

# 2. 코드 리뷰 요청
/code-review

# 3. 간단한 문서 작성
/doc-coauthoring
"README.md 개선해줘"
```

**학습 포인트:**
- ✅ 슬래시 명령어 사용법
- ✅ Claude의 자동화 능력 체험
- ✅ 피드백 주고받는 방법

---

### 단계 2: 기존 플러그인 활용 (10분)

**Notion MCP가 이미 설정되어 있으므로:**

```bash
# 1. 간단한 검색
"Notion 데이터베이스에서 최근 10개 항목 가져와줘"

# 2. Claude가 자동으로 실행:
# - mcp__notion-api__API-post-search
# - 결과 정리 및 표시

# 3. 데이터 분석 요청
"이 데이터를 카테고리별로 분류해줘"

# 4. 결과 저장
"분석 결과를 Markdown 파일로 저장해줘"
```

**학습 포인트:**
- ✅ 플러그인 자동 실행 확인
- ✅ 외부 API 연동 이해
- ✅ 데이터 분석 능력

---

### 단계 3: 간단한 Hook 추가 (15분)

**파일 생성:** `~/.claude/hooks.json`

```json
{
  "pre-commit": {
    "command": "npm test",
    "description": "테스트 자동 실행"
  }
}
```

**테스트:**
```bash
# 1. bot.js 간단히 수정
# (주석 한 줄 추가)

# 2. 커밋 요청
/commit

# 3. Hook 동작 확인
# - npm test 자동 실행
# - 테스트 결과 확인
# - 커밋 진행 또는 중단
```

**학습 포인트:**
- ✅ Hook 설정 파일 구조
- ✅ 자동화 워크플로우 구축
- ✅ 테스트 주도 개발 (TDD)

---

### 단계 4: 통합 워크플로우 (30분)

**실전 과제: 작은 기능 추가하기**

```bash
# 과제: /stats 명령어 추가
# (봇 사용 통계 표시)

# 1. 기능 설계
/feature-dev
"/stats 명령어를 추가하고 싶어. 노션 DB 통계를 보여주는 기능이야"

# 2. Claude가 설계 제공
# - 필요한 코드 위치
# - Notion API 호출 방법
# - 응답 메시지 포맷

# 3. 구현
# Claude가 단계별로 코드 작성

# 4. 테스트
# Hook이 자동으로 npm test 실행

# 5. 리뷰
/code-review

# 6. 문서화
/doc-coauthoring
"/stats 명령어 사용 가이드 작성"

# 7. 커밋
/commit
```

**완성 후 확인:**
- ✅ 새로운 기능 작동
- ✅ 테스트 통과
- ✅ 문서 완성
- ✅ Git 커밋 완료

---

## 6. 학습 리소스

### 프로젝트 파일 참고

**설정 파일:**
- `.claude/settings.local.json` - 현재 설정된 권한과 플러그인
- `package.json` - 사용 가능한 npm 스크립트
- `jest.config.js` - 테스트 설정

**문서 파일:**
- `HANDOFF.md` - 프로젝트 구조 이해
- `README.md` - 프로젝트 개요
- `REPLIT_DEPLOY.md` - 배포 프로세스

**코드 파일:**
- `bot.js` - 메인 봇 로직
- `dedup-store.js` - 중복 방지 시스템
- `tests/unit/*.test.js` - 테스트 예제

---

### 추천 학습 순서

**1주차: 기본 기능 익히기**
- [ ] `/help` 명령어로 사용 가능한 Skills 확인
- [ ] `/code-review`로 코드 리뷰 받기
- [ ] Notion 플러그인으로 데이터 조회

**2주차: 자동화 구축**
- [ ] pre-commit hook 설정
- [ ] post-edit hook으로 자동 재시작
- [ ] 워크플로우 최적화

**3주차: 고급 기능**
- [ ] `/feature-dev`로 새 기능 추가
- [ ] 복잡한 Notion API 작업
- [ ] 커스텀 Hook 작성

**4주차: 실전 프로젝트**
- [ ] 완전한 기능 추가 (설계 → 구현 → 테스트 → 배포)
- [ ] 성능 모니터링 시스템 구축
- [ ] 자동화된 보고서 생성

---

## 7. 자주 묻는 질문 (FAQ)

### Q1: Hook은 어디에 저장하나요?
**A:** `~/.claude/hooks.json` 파일에 JSON 형식으로 저장합니다.

### Q2: Notion 플러그인이 작동하지 않아요.
**A:** `.claude/settings.local.json` 파일에서 Notion API 토큰이 올바른지 확인하세요.

### Q3: Skill 사용 시 에러가 발생해요.
**A:**
1. `/help`로 사용 가능한 skill 목록 확인
2. skill 이름 철자 확인 (대소문자 구분 없음)
3. Claude Code 최신 버전인지 확인

### Q4: Hook이 실행되지 않아요.
**A:**
1. hooks.json 파일 위치 확인
2. JSON 문법 오류 확인 (온라인 JSON validator 사용)
3. 명령어 경로 확인 (예: `npm` → `C:\Program Files\nodejs\npm.cmd`)

### Q5: 여러 개의 Hook을 동시에 실행할 수 있나요?
**A:** 네! 하나의 이벤트에 여러 명령어를 `&&`로 연결하면 됩니다.
```json
{
  "pre-commit": {
    "command": "npm test && npm run lint && npm audit",
    "description": "테스트, 린트, 보안 검사"
  }
}
```

---

## 8. 다음 단계

### 더 알아보기

**공식 문서:**
- Claude Code 공식 가이드
- MCP (Model Context Protocol) 문서
- Git Hooks 공식 문서

**커뮤니티:**
- Claude Code Discord
- GitHub Discussions
- Stack Overflow

**실습 프로젝트:**
1. 자동 백업 시스템 구축
2. 성능 모니터링 대시보드
3. 자동 보고서 생성기

---

## 📝 요약

### Skills
- `/code-review` - 코드 리뷰
- `/doc-coauthoring` - 문서 작성
- `/feature-dev` - 기능 개발

### Plugins
- Notion MCP - Notion API 연동
- Context7 - 라이브러리 문서 검색

### Hooks
- `pre-commit` - 커밋 전 테스트
- `post-edit` - 수정 후 재시작
- `pre-deploy` - 배포 전 검사

### 효과
- ⏱️ 개발 시간 50% 단축
- 🐛 버그 조기 발견
- 📚 자동 문서화
- 🔒 보안 강화

---

**마지막 업데이트:** 2026-02-01
**피드백:** 이 문서를 개선할 아이디어가 있으면 이슈로 제보해주세요!
